@model List<Medictionary.Models.Industry>

@{
    Layout = "_StockiestLayout";
}

@if (Model == null || !Model.Any())
{
    <div class="alert alert-info text-center mt-5" style="color: #414464; font-weight: bold;">
        <p>No industries available at the moment.</p>
    </div>
}
else
{
    <div class="container my-5">
        <div class="industry-grid">
            @foreach (var industry in Model)
            {
                <div class="industry-card">
                    <div class="industry-details">
                        <h3>@industry.Name</h3>
                        <p><strong>Location:</strong> @industry.Location</p>
                        <p class="industry-description">@industry.Description</p>
                        <button class="btn btn-tertiary custom-btn view-details-btn" data-industry-id="@industry.IndustryId" onclick="showMedicineDetails('@industry.IndustryId')">
                            View Medicine Details
                        </button>
                    </div>
                </div>
            }
        </div>
    </div>
}

<div id="medicine-details-container" class="container my-5" style="display:none;">
    <h2>Medicine Details</h2>
    <div id="medicine-details-content"></div>
</div>

@section Scripts {
    <script>
        function showMedicineDetails(industryId) {
            $.ajax({
                url: '@Url.Action("GetMedicines", "Stockiest")',
                type: 'GET',
                data: { industryId: industryId },
                success: function (data) {
                    $('#medicine-details-content').html(data);
                    $('#medicine-details-container').show();
                }
            });
        }
    </script>
}